# Meta API Configuration (Required for basic functionality)
META_ACCESS_TOKEN=your_access_token_here
META_APP_ID=your_app_id
META_APP_SECRET=your_app_secret

# Default Ad Account (Optional)
DEFAULT_AD_ACCOUNT=act_123456789

# Environment Settings
ENVIRONMENT=development
LOG_LEVEL=INFO

# Rate Limiting (Optional)
MAX_REQUESTS_PER_HOUR=200

# API Timeout Settings (Optional)
# Meta's Insights API behavior:
# - Simple queries (campaigns, accounts): 5-15 seconds
# - Complex insights with breakdowns: 30-90 seconds
# - Very large accounts with 30+ day ranges: 90-180 seconds
# Setting to 180s ensures we handle worst-case scenarios
API_TIMEOUT_TOTAL=180  # Total request timeout in seconds (recommended: 180)
API_TIMEOUT_CONNECT=15  # Connection timeout in seconds (recommended: 15)
API_RETRY_COUNT=3  # Number of retries on failure

# Connection Pool Settings (Optional)
# Prevents connection exhaustion when handling multiple requests
CONNECTION_POOL_SIZE=100  # Maximum total connections
CONNECTION_POOL_PER_HOST=30  # Maximum connections per host

# Cache Settings (Optional)
CACHE_TTL=300
ENABLE_CACHE=true

# Token Storage Path (Optional)
TOKEN_STORAGE_PATH=~/.meta-ads-mcp/tokens.json

# ============================================
# Facebook OAuth Configuration (Required for OAuth)
# ============================================
# Set these when you have your Facebook App credentials from the client
FB_APP_ID=PLEASE_SET
FB_APP_SECRET=PLEASE_SET
FB_API_VERSION=v24.0

# OAuth Scopes (comma-separated)
# Basic: public_profile,email (works without App Review)
# Internal Testing: business_management (recommended - no App Review if you're admin)
# Production: ads_management (requires App Review)
# Note: ads_read is DEPRECATED - use business_management instead
# See docs/UPDATED_PERMISSIONS.md for details
FB_OAUTH_SCOPES=public_profile,email,business_management

# OAuth Redirect URI (must match Facebook App settings)
# In production, use your actual domain:
# FB_REDIRECT_URI=https://mcp.clientdomain.com/auth/facebook/callback
# For local development:
FB_REDIRECT_URI=http://localhost:8000/auth/facebook/callback

# Deauthorization Callback URL (for webhooks)
# In production, use your actual domain:
# FB_DEAUTH_CALLBACK=https://mcp.clientdomain.com/webhooks/facebook/deauth
# For local development:
FB_DEAUTH_CALLBACK=http://localhost:8000/webhooks/facebook/deauth

# Token Encryption
# In production, use a KMS key reference (e.g., AWS KMS, GCP KMS)
# For development, a local key is used (change in production!)
TOKEN_ENCRYPTION_KEY=
TOKEN_ENCRYPTION_KEY_LOCAL=dev-key-change-in-production

# OAuth Settings
FB_OAUTH_ENABLED=false  # Set to 'true' when FB_APP_ID and FB_APP_SECRET are set
TOKEN_REFRESH_WINDOW_DAYS=10
OAUTH_STATE_TTL_MINUTES=10

# Database Configuration
# SQLite (default, for development)
DATABASE_URL=sqlite:///~/.meta-ads-mcp/oauth.db
# PostgreSQL (production example):
# DATABASE_URL=postgresql://user:password@localhost:5432/meta_ads_oauth

# Web Server Configuration
WEB_SERVER_HOST=0.0.0.0
WEB_SERVER_PORT=8000

